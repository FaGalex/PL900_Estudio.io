<!doctype html>
<html lang="es" class="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PL-900 Tracker</title>
    <meta name="description" content="Landing de progreso para PL-900 (14 dÃ­as) con localStorage" />
    <!-- Tailwind Play CDN (procesa clases en el navegador) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM desde CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Fuente opcional -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
      html, body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    </style>
  </head>
  <body class="bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100">
    <div id="root"></div>

    <script type="text/javascript">
      // ======= CÃ³digo del componente (adaptado para navegador) =======
      const { useEffect, useMemo, useState } = React;

      const LS_KEY = "pl900-progress-v1";
      const initialDays = [
        { id: 1, title: "Intro a Power Platform", goals: ["QuÃ© es y para quÃ© sirve", "Componentes y ecosistema"], links: ["https://learn.microsoft.com/es-es/training/modules/introduction-power-platform/"] },
        { id: 2, title: "Beneficios & Arquitectura", goals: ["IntegraciÃ³n con M365/Azure/Dynamics", "Roles: maker/admin"], links: [] },
        { id: 3, title: "Power BI â€” Fundamentos", goals: ["Desktop vs Service", "Primer informe"], links: ["https://learn.microsoft.com/es-es/training/modules/get-started-power-bi/"] },
        { id: 4, title: "Power BI â€” TransformaciÃ³n & Modelo", goals: ["Power Query", "Relaciones y DAX"], links: [] },
        { id: 5, title: "Power BI â€” Dashboards & Sharing", goals: ["Buenas prÃ¡cticas de visualizaciÃ³n", "Publicar y compartir"], links: [] },
        { id: 6, title: "Repaso Power BI + Quiz", goals: ["Knowledge check", "Identificar puntos dÃ©biles"], links: ["https://learn.microsoft.com/es-es/training/modules/get-started-power-bi/8-knowledge-check"] },
        { id: 7, title: "Power Apps â€” Tipos de Apps", goals: ["Canvas vs Model-driven vs Portals", "Primera app"], links: ["https://learn.microsoft.com/es-es/training/modules/get-started-power-apps/"] },
        { id: 8, title: "Power Apps â€” Conectores & Controles", goals: ["Formularios, galerÃ­as, fÃ³rmulas", "Buenas prÃ¡cticas"], links: [] },
        { id: 9, title: "Power Automate â€” Flujos", goals: ["AutomÃ¡tico/InstantÃ¡neo/Programado", "Primer flujo"], links: ["https://learn.microsoft.com/es-es/training/modules/get-started-power-automate/"] },
        { id: 10, title: "Power Automate Desktop â€” RPA", goals: ["AutomatizaciÃ³n escritorio", "Precauciones RPA"], links: [] },
        { id: 11, title: "Power Virtual Agents â€” Bots", goals: ["Temas y entidades", "PublicaciÃ³n"], links: ["https://learn.microsoft.com/es-es/training/modules/get-started-power-virtual-agents/"] },
        { id: 12, title: "Microsoft Dataverse", goals: ["Tablas/Relaciones", "Seguridad (fila/columna)"], links: [] },
        { id: 13, title: "IntegraciÃ³n â€” Casos prÃ¡cticos", goals: ["Apps + Automate + BI", "Teams"], links: [] },
        { id: 14, title: "Simulacro Final + RevisiÃ³n", goals: ["MeasureUp / Learn Path", "Checklist de examen"], links: ["https://www.measureup.com/microsoft-pl-900-microsoft-power-platform-fundamentals.html", "https://learn.microsoft.com/es-es/training/paths/power-platform-fundamentals/"] },
      ];

      function loadState() {
        try { return JSON.parse(localStorage.getItem(LS_KEY) || "null"); } catch { return null; }
      }
      function saveState(s) {
        try { localStorage.setItem(LS_KEY, JSON.stringify(s)); } catch {}
      }

      function App() {
        const [entries, setEntries] = useState(() => {
          const saved = loadState();
          if (saved?.entries) return saved.entries;
          return initialDays.map(d => ({ id: d.id, title: d.title, done: false, date: "", score: "", notes: "", links: d.links, goals: d.goals }));
        });
        const [name, setName] = useState(() => loadState()?.name || "");
        const [examDate, setExamDate] = useState(() => loadState()?.examDate || "");
        const [dark, setDark] = useState(() => loadState()?.dark ?? true);

        useEffect(() => { document.documentElement.classList.toggle("dark", dark); }, [dark]);
        useEffect(() => { saveState({ entries, name, examDate, dark }); }, [entries, name, examDate, dark]);

        const completed = useMemo(() => entries.filter(e => e.done).length, [entries]);
        const progress = Math.round((completed / Math.max(1, entries.length)) * 100);

        function updateEntry(id, patch) {
          setEntries(prev => prev.map(e => e.id === id ? { ...e, ...patch } : e));
        }
        function addCustomDay() {
          const nextId = entries.length ? Math.max(...entries.map(e => e.id)) + 1 : 1;
          setEntries(prev => [...prev, { id: nextId, title: `DÃ­a ${nextId} â€” Personalizado`, done: false, date: "", score: "", notes: "", links: [], goals: [] }]);
        }
        function exportJSON() {
          const blob = new Blob([JSON.stringify({ name, examDate, entries }, null, 2)], { type: "application/json" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url; a.download = "pl900-progress.json"; a.click();
          URL.revokeObjectURL(url);
        }
        function importJSON(file) {
          const reader = new FileReader();
          reader.onload = () => {
            try {
              const data = JSON.parse(reader.result);
              if (data?.entries?.length) setEntries(data.entries);
              if (typeof data?.name === "string") setName(data.name);
              if (typeof data?.examDate === "string") setExamDate(data.examDate);
            } catch { alert("Archivo invÃ¡lido"); }
          };
          reader.readAsText(file);
        }

        return (
          React.createElement("div", { className: "min-h-screen" },
            React.createElement("header", { className: "border-b border-slate-200/40 dark:border-slate-800 sticky top-0 z-20 backdrop-blur bg-white/70 dark:bg-slate-950/70" },
              React.createElement("div", { className: "max-w-6xl mx-auto px-4 py-4 flex items-center justify-between" },
                React.createElement("div", { className: "flex items-center gap-3" },
                  React.createElement("div", { className: "w-9 h-9 rounded-2xl bg-gradient-to-br from-indigo-500 to-sky-500" }),
                  React.createElement("div", null,
                    React.createElement("h1", { className: "text-xl font-semibold" }, "PL-900 Tracker"),
                    React.createElement("p", { className: "text-xs opacity-70" }, "Landing page Â· progreso dÃ­a a dÃ­a")
                  )
                ),
                React.createElement("div", { className: "flex items-center gap-2" },
                  React.createElement("button", { onClick: () => setDark(d => !d), className: "px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-900 text-sm" }, dark ? "â˜€ï¸ Claro" : "ðŸŒ™ Oscuro"),
                  React.createElement("button", { onClick: exportJSON, className: "px-3 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white text-sm shadow" }, "Exportar JSON"),
                  React.createElement("label", { className: "px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-800 text-sm cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-900" },
                    "Importar JSON",
                    React.createElement("input", { type: "file", accept: "application/json", className: "hidden", onChange: (e) => e.target.files && importJSON(e.target.files[0]) })
                  )
                )
              )
            ),
            React.createElement("section", { className: "max-w-6xl mx-auto px-4 pt-8 pb-2" },
              React.createElement("div", { className: "grid md:grid-cols-3 gap-6" },
                React.createElement("div", { className: "md:col-span-2 p-6 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm" },
                  React.createElement("h2", { className: "text-2xl font-bold mb-2" },
                    "Tu ruta hacia la certificaciÃ³n ",
                    React.createElement("span", { className: "text-indigo-600" }, "PL-900")
                  ),
                  React.createElement("p", { className: "opacity-80 mb-4" }, "Registra tu avance diario, guarda notas y mide tu progreso del plan de 14 dÃ­as. Ideal para desplegar como landing page personal."),
                  React.createElement("div", { className: "grid sm:grid-cols-3 gap-4" },
                    React.createElement("div", { className: "p-4 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800" },
                      React.createElement("p", { className: "text-xs opacity-70" }, "Avance"),
                      React.createElement("p", { className: "text-2xl font-bold" }, progress + "%"),
                      React.createElement("div", { className: "mt-2 h-2 rounded-full bg-slate-200 dark:bg-slate-800" },
                        React.createElement("div", { className: "h-2 rounded-full bg-gradient-to-r from-indigo-500 to-sky-500", style: { width: progress + "%" } })
                      )
                    ),
                    React.createElement("div", { className: "p-4 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800" },
                      React.createElement("p", { className: "text-xs opacity-70" }, "DÃ­as completos"),
                      React.createElement("p", { className: "text-2xl font-bold" }, completed + "/" + entries.length)
                    ),
                    React.createElement("div", { className: "p-4 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800" },
                      React.createElement("p", { className: "text-xs opacity-70" }, "Fecha de examen"),
                      React.createElement("input", { type: "date", value: examDate, onChange: (e)=>setExamDate(e.target.value), className: "mt-1 w-full bg-transparent border rounded-xl px-3 py-2 border-slate-200 dark:border-slate-700 text-sm" })
                    )
                  )
                ),
                React.createElement("div", { className: "p-6 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm" },
                  React.createElement("label", { className: "text-xs opacity-70" }, "Tu nombre"),
                  React.createElement("input", { value: name, onChange: (e)=>setName(e.target.value), placeholder: "Tu nombre", className: "mt-1 w-full bg-transparent border rounded-xl px-3 py-2 border-slate-200 dark:border-slate-700" }),
                  React.createElement("div", { className: "mt-4 text-sm" },
                    React.createElement("p", { className: "opacity-80" }, "Recursos rÃ¡pidos:"),
                    React.createElement("ul", { className: "list-disc pl-5 space-y-1 mt-2" },
                      React.createElement("li", null, React.createElement("a", { className: "text-indigo-600 hover:underline", href: "https://learn.microsoft.com/es-es/certifications/exams/pl-900/", target: "_blank", rel: "noreferrer" }, "GuÃ­a oficial del examen")),
                      React.createElement("li", null, React.createElement("a", { className: "text-indigo-600 hover:underline", href: "https://learn.microsoft.com/es-es/training/paths/power-platform-fundamentals/", target: "_blank", rel: "noreferrer" }, "Ruta de aprendizaje Microsoft Learn")),
                      React.createElement("li", null, React.createElement("a", { className: "text-indigo-600 hover:underline", href: "https://learn.microsoft.com/es-es/power-platform/developer-plan", target: "_blank", rel: "noreferrer" }, "Developer Plan (entorno gratuito)"))
                    )
                  )
                )
              )
            ),
            React.createElement("section", { className: "max-w-6xl mx-auto px-4 py-6" },
              React.createElement("div", { className: "flex items-center justify-between mb-3" },
                React.createElement("h3", { className: "text-lg font-semibold" }, "Plan de 14 dÃ­as"),
                React.createElement("div", { className: "flex gap-2" },
                  React.createElement("button", { onClick: addCustomDay, className: "px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-800 text-sm hover:bg-slate-50 dark:hover:bg-slate-900" }, "AÃ±adir dÃ­a personalizado"),
                  React.createElement("button", { onClick: () => {
                    const reset = initialDays.map(d => ({ id: d.id, title: d.title, done: false, date: "", score: "", notes: "", links: d.links, goals: d.goals }));
                    setEntries(reset);
                  }, className: "px-3 py-2 rounded-xl text-sm bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 hover:bg-slate-200/60 dark:hover:bg-slate-800" }, "Resetear plan 14 dÃ­as")
                )
              ),
              React.createElement("div", { className: "grid md:grid-cols-2 gap-4" },
                entries.map(e => React.createElement("div", { key: e.id, className: "rounded-2xl border border-slate-200 dark:border-slate-800 p-4 shadow-sm flex flex-col gap-3" },
                  React.createElement("div", { className: "flex items-center gap-3" },
                    React.createElement("input", { type: "checkbox", checked: e.done, onChange: ev => updateEntry(e.id, { done: ev.target.checked }), className: "w-5 h-5 accent-indigo-600" }),
                    React.createElement("div", { className: "flex-1" },
                      React.createElement("div", { className: "flex items-center gap-2 flex-wrap" },
                        React.createElement("span", { className: "text-sm px-2 py-0.5 rounded-full bg-indigo-50 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-900/40" }, "DÃ­a ", e.id),
                        React.createElement("h4", { className: "font-semibold" }, e.title)
                      ),
                      e.goals?.length ? React.createElement("ul", { className: "mt-1 text-sm opacity-80 list-disc pl-5 space-y-0.5" },
                        e.goals.map((g, idx) => React.createElement("li", { key: idx }, g))
                      ) : null,
                      e.links?.length ? React.createElement("div", { className: "mt-2 flex flex-wrap gap-2" },
                        e.links.map((link, idx) => React.createElement("a", { key: idx, href: link, target: "_blank", rel: "noreferrer", className: "text-xs px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900 text-indigo-600" }, "Recurso ", idx + 1))
                      ) : null
                    )
                  ),
                  React.createElement("div", { className: "grid grid-cols-3 gap-3" },
                    React.createElement("div", null,
                      React.createElement("label", { className: "text-xs opacity-70" }, "Fecha"),
                      React.createElement("input", { type: "date", value: e.date, onChange: ev => updateEntry(e.id, { date: ev.target.value }), className: "mt-1 w-full bg-transparent border rounded-xl px-3 py-2 border-slate-200 dark:border-slate-700 text-sm" })
                    ),
                    React.createElement("div", null,
                      React.createElement("label", { className: "text-xs opacity-70" }, "Puntaje / Quiz"),
                      React.createElement("input", { type: "text", placeholder: "ej. 8/10", value: e.score, onChange: ev => updateEntry(e.id, { score: ev.target.value }), className: "mt-1 w-full bg-transparent border rounded-xl px-3 py-2 border-slate-200 dark:border-slate-700 text-sm" })
                    ),
                    React.createElement("div", null,
                      React.createElement("label", { className: "text-xs opacity-70" }, "Estado"),
                      React.createElement("select", { value: e.done ? "Completado" : "Pendiente", onChange: ev => updateEntry(e.id, { done: ev.target.value === "Completado" }), className: "mt-1 w-full bg-transparent border rounded-xl px-3 py-2 border-slate-200 dark:border-slate-700 text-sm" },
                        React.createElement("option", null, "Pendiente"),
                        React.createElement("option", null, "Completado")
                      )
                    )
                  ),
                  React.createElement("div", null,
                    React.createElement("label", { className: "text-xs opacity-70" }, "Notas"),
                    React.createElement("textarea", { value: e.notes, onChange: ev => updateEntry(e.id, { notes: ev.target.value }), placeholder: "Resumen del dÃ­a, dudas, enlaces adicionalesâ€¦", className: "mt-1 w-full bg-transparent border rounded-xl px-3 py-2 border-slate-200 dark:border-slate-700 text-sm min-h-[70px]" })
                  ),
                  React.createElement("div", { className: "flex justify-end gap-2" },
                    React.createElement("button", { onClick: () => {
                      const t = prompt("Nuevo tÃ­tulo para el dÃ­a:", e.title);
                      if (t) updateEntry(e.id, { title: t });
                    }, className: "px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-800 text-sm hover:bg-slate-50 dark:hover:bg-slate-900" }, "Renombrar"),
                    React.createElement("button", { onClick: () => { if (confirm("Â¿Eliminar este dÃ­a?")) { setEntries(prev => prev.filter(x => x.id !== e.id)); } }, className: "px-3 py-2 rounded-xl border border-rose-200 dark:border-rose-900/50 text-sm hover:bg-rose-50 dark:hover:bg-rose-950/40 text-rose-600" }, "Eliminar")
                  )
                ))
              )
            ),
            React.createElement("footer", { className: "mt-10 border-t border-slate-200 dark:border-slate-800" },
              React.createElement("div", { className: "max-w-6xl mx-auto px-4 py-8 text-sm flex flex-col md:flex-row items-start md:items-center justify-between gap-3" },
                React.createElement("p", { className: "opacity-70" }, "Hecho con ðŸ’™ para el camino de certificaciÃ³n PL-900. 100% estÃ¡tico (localStorage)."),
                React.createElement("div", { className: "flex items-center gap-3" },
                  React.createElement("a", { className: "text-indigo-600 hover:underline", href: "https://docs.github.com/en/pages/quickstart", target: "_blank", rel: "noreferrer" }, "GuÃ­a de GitHub Pages"),
                  React.createElement("a", { className: "text-indigo-600 hover:underline", href: "https://www.netlify.com/", target: "_blank", rel: "noreferrer" }, "Desplegar en Netlify")
                )
              )
            )
          )
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(React.createElement(App));
    </script>
  </body>
</html>
